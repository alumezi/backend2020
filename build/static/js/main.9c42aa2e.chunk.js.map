{"version":3,"sources":["services/numbers.js","PersonForm.js","Filter.js","Persons.js","Notification.js","App.js","index.js"],"names":["baseUrl","PersonForm","addPerson","newName","newNumber","setNewName","setNewNumber","onSubmit","value","onChange","event","target","type","Filter","searchQuery","setSearchQuery","Persons","persons","removeEntry","filter","person","name","toLowerCase","includes","map","key","id","number","onClick","Notification","message","error","componentStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","setPersons","notification","setNotification","setError","useEffect","axios","get","then","response","data","catch","console","addNotification","setTimeout","addError","preventDefault","object","searchPerson","find","alert","window","confirm","put","index","findIndex","item","personsCopy","splice","post","createPerson","concat","delete","deletePerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9c42aa2e.chunk.js","sourcesContent":["import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data);\n}\n\nconst createPerson = (object) => {\n    const request = axios.post(baseUrl, object);\n    return request.then(response => response.data);\n}\n\nconst updatePerson = (object, id) => {\n    const request = axios.put(`${baseUrl}/${id}`, object);\n    return request.then(response => response.data);\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    return request.then(response => response.data);\n}\n\nexport {\n    createPerson,\n    getAll,\n    deletePerson,\n    updatePerson\n}","import React from 'react';\n\nexport const PersonForm = ({ addPerson, newName, newNumber, setNewName, setNewNumber }) => {\n    return <form onSubmit={addPerson}>\n        <div>\n            <div>\n                name: <input value={newName} onChange={event => setNewName(event.target.value)} />\n            </div>\n            <div>\n                number: <input value={newNumber} onChange={event => setNewNumber(event.target.value)} />\n            </div>\n        </div>\n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n    </form>\n}","import React from 'react';\n\nexport const Filter = ({ searchQuery, setSearchQuery }) => {\n    return <>\n        filter show with <input value={searchQuery} onChange={event => setSearchQuery(event.target.value)} />\n    </>\n}","import React from 'react';\n\nexport const Persons = ({ persons, searchQuery, removeEntry }) => {\n    return persons.filter(person => person.name.toLowerCase().includes(searchQuery.toLowerCase()))\n        .map(person => <div key={person.id}>{person.name}  {person.number}\n            <button onClick={event => removeEntry(event, person.id, person.name)}>delete</button>\n        </div>)\n}","import React from 'react';\n\nexport const Notification = ({ message, error }) => {\n    if (message === null && error === null) {\n        return null\n    }\n\n    const componentStyle = {\n        color: error ? 'red' : 'green',\n        background: 'lightgrey',\n        fontSize: '20px',\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px'\n    }\n\n    return (\n        <div style={componentStyle}>\n            {message || error}\n        </div>\n    )\n}","import React, { useState, useEffect } from 'react';\nimport {\n    createPerson,\n    getAll,\n    deletePerson,\n    updatePerson\n} from './services/numbers';\nimport { PersonForm } from './PersonForm';\nimport { Filter } from './Filter';\nimport { Persons } from './Persons';\nimport { Notification } from './Notification';\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [newName, setNewName] = useState('');\n    const [newNumber, setNewNumber] = useState('');\n    const [searchQuery, setSearchQuery] = useState('');\n    const [notification, setNotification] = useState(null);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        getAll()\n            .then(data => setPersons(data))\n            .catch(error => console.error(error))\n    }, []);\n\n\n    const removeEntry = (event, id, name) => {\n        event.preventDefault();\n        if (window.confirm(`Are you sure you want to delete ${name} ?`)) {\n            deletePerson(id)\n                .then(() => {\n                    setPersons(persons.filter(item => item.id !== id))\n                    addNotification(`Deleted ${name}`)\n                })\n                .catch(error => {\n                    console.error(error)\n                    addError(`Information of ${name} was deleted from server`);\n                    setPersons(persons.filter(item => item.id === id));\n                })\n        }\n    }\n\n    const addNotification = (message) => {\n        setNotification(message)\n        setTimeout(() => {\n            setNotification(null)\n        }, 5000)\n    }\n\n    const addError = (message) => {\n        setError(message);\n        setTimeout(() => {\n            setError(null)\n        }, 5000)\n    }\n\n    const addPerson = (event) => {\n        event.preventDefault();\n\n        if (!newName) {\n            return\n        }\n\n        let searchPerson = persons.find(person => person.name.toLowerCase() === newName.toLowerCase());\n\n        if (searchPerson) {\n            if (searchPerson.number !== newNumber) {\n                if (window.confirm(`${searchPerson.name} is already added to the phonebook, replace the old number with the new one?`)) {\n                    return updatePerson({ number: newNumber }, searchPerson.id)\n                        .then(data => {\n                            let index = persons.findIndex(item => item.id === data.id);\n                            let personsCopy = [...persons];\n                            personsCopy.splice(index, 1, data);\n                            setPersons(personsCopy);\n                            setNewName('');\n                            setNewNumber('');\n                            addNotification(`Updated ${data.name}`)\n                        })\n                        .catch(error => {\n                            console.error(error);\n                            if (error.response) {\n                                addError(error.response.data.error);\n                            } else {\n                                addError(`Information of ${searchPerson.name} was deleted from server`);\n                                setPersons(persons.filter(item => item.id !== searchPerson.id))\n                            }\n                        })\n                }\n            } else {\n                return alert(`${newName} is already added to phonebook`);\n            }\n        }\n\n        createPerson({ name: newName, number: newNumber })\n            .then(data => {\n                setPersons(persons.concat(data));\n                setNewName('');\n                setNewNumber('');\n                addNotification(`Added ${data.name}`)\n            })\n            .catch(error => {\n                console.error(error);\n                if (error.response) {\n                    addError(error.response.data.error);\n                }\n            })\n    }\n\n    return (\n        <div>\n            <h1>Phonebook</h1>\n            <Notification message={notification} error={error} />\n            <Filter searchQuery={searchQuery} setSearchQuery={setSearchQuery} />\n            <h3>Add a new</h3>\n            <PersonForm\n                addPerson={addPerson}\n                newName={newName}\n                newNumber={newNumber}\n                setNewName={setNewName}\n                setNewNumber={setNewNumber} />\n            <h2>Numbers</h2>\n            <Persons persons={persons} searchQuery={searchQuery} removeEntry={removeEntry} />\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}